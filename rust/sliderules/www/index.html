<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Hello Zurihac!</title>
    <style type="text/css" media="screen">
      body {
          /* overflow: hidden; */
          padding: 0;
          margin: 0;
      }

      #editor {
          margin: 0;
          position: absolute;
          top: 0;
          bottom: 0;
          left: 0;
          right: 0;
      }
    </style>
  </head>
  <body>
    <noscript>This page contains webassembly and javascript content, please enable javascript in your browser.</noscript>
    <script src="./bootstrap.js"></script>
    <div id="cursor" style="position: absolute; height: 100000px; width: 1px; background-color: red"></div>
    <div style="position: relative; height: 300px;">
    <pre id="editor" style="height: 300px;">
let b_spec = (constructor) => {
    return constructor(9, tp(1, ns("Int", {"LogClamp":10})), {
        "0": qf(2, tp(0.75, ns({"Float":1}, {"LogClamp":10})), {
            "0": qf(5, 0.5, {
                "0": qf(2, 0.25)
            })
        }),
        "1": qf(2, tp(0.75), {
            "0": qf(5, 0.5)
        }),
        "4": qf(2, 0.75, {
            "0": qf(2, 0.5)
        })
    });
}

let k_spec = (constructor) => {
    return constructor(9, tp(1, ns("Int", {"LogClamp":10})), {
        "0": qf(2, tp(0.75, ns({"Float":1}, {"LogClamp":10})), {
            "0": qf(5, 0.5, {
                "0": qf(2, 0.25)
            })
        }),
        "1": qf(2, tp(0.75), {
            "0": qf(5, 0.5)
        }),
        "4": qf(2, 0.75, {
            "0": qf(2, 0.5)
        })
    });
}

let c_spec = () => {
    return qt(9, tp(1, ns("Int", {"LogClamp":10})), {
        "0": qf(2, tp(0.75, ns({"Float":1}, {"LogClamp":10})), {
            "0": qf(5, 0.5, {
                "0": qf(5, 0.25)
            })
        }),
        "1": qf(2, 0.75, {
            "0": qf(5, 0.5, {
                "0": qf(2, 0.25)
            })
        }),
        "5": qf(2, 0.75, {
            "0": qf(5, 0.5)
        })
    });
}

[
    {
        "name": "LL1",
        "scale": 0.03,
        "transform": {"Compose":["LogLog",{"Linear":[1, -Math.log10(Math.log10(1.01))]}]},
        "specs": [
            {
                "start": 1.01,
                "end": 1.06,
                "spec": qtf(5, tp(1, ns({"Float":2}, "Nothing")), {
                    "0": qf(2, tp(0.75, ns({"Float":3}, "Nothing")), {
                        "0": qf(5, tp(0.5), {
                            "0": qf(4, tp(0.25))
                        }),
                    }),
                    "1": qf(2, tp(0.75), {
                        "0": qf(5, tp(0.5), {
                            "0": qf(2, tp(0.25))
                        }),
                    }),
                    "4": qf(2, tp(0.75), {
                        "0": qf(5, tp(0.5)),
                    }),
                })
            },
            {
                "start": 1.06,
                "end": 1.10,
                "spec": qt(4, tp(1, ns({"Float":2}, "Nothing")), {
                    "0": qf(2, tp(0.75), {
                        "0": qf(5, tp(0.5)),
                    }),
                })
            },
            {
                "start": 1.10,
                "end": 1.105,
                "spec": qft(1, tp(0.75), {
                    "0": qf(5, tp(0.5))
                })
            }
        ]
    },
    {
        "name": "LL2",
        "scale": 0.03,
        "transform": {"Compose":["LogLog",{"Linear":[1, -Math.log10(Math.log10(1.01**10))]}]},
        "specs": [
            {
                "start": 1.104,
                "end": 1.11,
                "spec": qtf(3, tp(0.25))
            },
            {
                "start": 1.11,
                "end": 1.15,
                "spec": qtf(4, tp(0.5), {
                    0: qf(5, tp(0.25))
                })
            },
            {
                "start": 1.15,
                "end": 1.2,
                "spec": qtf(1, tp(0.75,{show:{"Float":2},preshow:"Nothing"}), {
                    0: qf(5, tp(0.5), {
                        0: qf(5, tp(0.25))
                    })
                })
            },
            {
                "start": 1.2,
                "end": 2,
                "spec": qtf(8, tp(1,{show:{"Float":1},preshow:"Nothing"}), {
                    0: qf(2, tp(0.75), {
                        0: qf(5, tp(0.5), {
                            0: qf(2, tp(0.25))
                        })
                    }),
                    3: qf(2, tp(0.75), {
                        0: qf(5, tp(0.5))
                    })
                })
            },
            {
                "start": 2,
                "end": 2.5,
                "spec": qtf(1, tp(1,{show:"Int",preshow:"Nothing"}), {
                    0: qf(5, tp(1), {
                        0: qf(2, tp(0.75), {
                            0: qf(2, tp(0.5))
                        })
                    })
                })
            },
            {
                "start": 2.5,
                "end": 2.7,
                "spec": qtf(1, tp(1,{show:{"Float":1},preshow:"Nothing"}), {
                    0: qf(2, tp(1), {
                        0: qf(2, tp(0.75), {
                            0: qf(2, tp(0.5))
                        })
                    })
                })
            },
            {
                "start": 2.7,
                "end": 2.7,
                "spec": qt(0, tp(1))
            },
            {
                "start": Math.E,
                "end": Math.E,
                "spec": qt(0, tp(1, ns({"Only":"e"},"Nothing")))
            },
        ]
    },
    {
        "name": "Ln",
        "scale": 0.03,
        "transform": {"Linear":[1/2.3,0]},
        "specs": [
            {
                "start": 0.0,
                "end": 2.3,
                "spec": qt(23, tp(1, ns({"Float":1}, "Nothing")), {
                    "0": qf(2, tp(0.75), {
                        "0": qf(5, 0.5)
                    })
                })
            }
        ]
    },
    {
        "name": "L",
        "scale": 0.03,
        "transform": "Id",
        "specs": [
            {
                "start": 0.0,
                "end": 1.0,
                "spec": qt(10, tp(1, ns({"Float":1}, "Nothing")), {
                    "0": qf(2, tp(0.75), {
                        "0": qf(5, 0.5, {
                            "0": qf(2, 0.25)
                        })
                    })
                })
            }
        ]
    },
    {
        "name": "K",
        "scale": 0.03,
        "transform": {"LogN":1000},
        "specs": [
            {
                "start": 1.0,
                "end": 10.0,
                "spec": k_spec(qtf)
            },
            {
                "start": 10.0,
                "end": 100.0,
                "spec": k_spec(qtf)
            },
            {
                "start": 100.0,
                "end": 1000.0,
                "spec": k_spec(qt)
            }
        ]
    },
    {
        "name": "B",
        "scale": 0.03,
        "transform": {"LogN":100},
        "specs": [
            {
                "start": 1.0,
                "end": 10.0,
                "spec": b_spec(qtf)
            },
            {
                "start": 10.0,
                "end": 100.0,
                "spec": b_spec(qt)
            }
        ]
    },
    {
        "name": "C",
        "scale": 0.03,
        "transform": "Log",
        "specs": [
            {
                "start": 1.0,
                "end": 10.0,
                "spec": c_spec()
            },
        ]
    },
]

    </pre>
    </div>
    <div id="result"></div>
  </body>
</html>
